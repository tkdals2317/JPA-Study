

# JPA 소개



## 🎈 JPA란?

- Java Persistence API의 줄임말

- 자바 진영의 ORM 기술 표준

  

## ORM 이란?

- Object-relational mapping(객체 관계 매핑)
- 객체는 객체대로 설계
- 관계형 데이터 베이스는 관계형 데이터베이스대로 설계
- ORM 프레임워크가 중간에서 매핑



> JPA는 애플리케이션과 JDBC 사이에서 동작



## JPA를 왜 사용해야하는가?

- SQL 중심적인 개발에서 객체 중심으로 개발
- 생산성 증대
  - JPA와 CRUD 코드가 한줄이면 된다!
  - 복잡한 SQL문을 만들 필요가 사라지면서 코드가 간결해진다
- 유지보수성
  - 기존의 경우 필드 변경시 모든 SQL 수정해야 하나 JPA는 그럴 필요가 없다
- 패러다임 불일치 해결
  - 기존의 경우 객체 상속관계를 DB에 매핑 시키기 매우 곤란하다 ex) INSERT 할 경우 두개로 쪼개서 넣어야한다는 매우 불편함
  - JPA는 알아서 쿼리를 짜준다 
  - INSERT : 알아서 두개로 쪼개준다
  - SELECT : 알아서  JOIN 해준다, 자유로운 객체 그래프 탐색 가능, 동일한 트랜잭션에서 조회한 엔티티는 같음을 보장
- 성능
  - 1차 캐시와 동일성 보장 : 같은 트랜잭션 안에서는 같은 엔티티를 반환(약간의 조회 성능 향상) 
  - ex) 같은 객체를 find를 여러번 해도 캐시에 저장해놓고 한번만 조회한다
  - 트랜잭션을 지원하는 쓰기 지연 : 버퍼링 기능, 트랜잭션을 커밋할 때까지 INSERT SQL을 모은다, JDBC BATCH SQL 기능을 사용해서 한번에 SQL 전송
  - 지연로딩과 즉시 로딩 
    - 지연로딩 : 객체가 실제 사용될때 로딩
    - 즉시로딩 :  JOIN SQL로 한번에 연관된 객체까지 미리 조회
- 데이터 접근 추상화와 벤더 독립성
- 표준



## 결론

ORM은 객체와 RDB 두 기둥위에 있는 기술!

객체지향과 관계형 데이터베이스를 잘 알고 써야 된다!

